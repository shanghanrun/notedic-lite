import{f as R,a as b,c as de}from"../chunks/p1Lr3AEA.js";import{o as Fe}from"../chunks/B3r0rnGb.js";import{aM as Ie,R as ae,l as Re,n as Me,aN as ke,aO as ze,aP as Se,aQ as Le,C as x,D as J,i as r,E as m,aH as ie,p as Z,s as v,t as q,a as ee,c as d,r as o,f as Y,A as Ce}from"../chunks/Bo_w5O8x.js";import{i as D}from"../chunks/CcfPT99S.js";import{v as Ae,r as $e,m as re,p as N,P as le,T as ve,a as Ee,F as De,e as ne,i as oe,s as pe,b as Ue}from"../chunks/DOGJSLat.js";import{s as $}from"../chunks/B5dKWiVt.js";import{t as he,s as qe,f as ge,S as Te}from"../chunks/CID-vtnQ.js";import{a as ce,r as me,b as He}from"../chunks/yS19KLYK.js";import{d as _e}from"../chunks/DCTSnbhe.js";import{p as xe}from"../chunks/BeW2ITSc.js";import"../chunks/Dy5oeoFD.js";import{i as Be}from"../chunks/CF2St8gB.js";import{g as fe}from"../chunks/B8Aw_0XD.js";function be(h,e,t=!1){if(h.multiple){if(e==null)return;if(!ke(e))return ze();for(var s of h.options)s.selected=e.includes(K(s));return}for(s of h.options){var a=K(s);if(Se(a,e)){s.selected=!0;return}}(!t||e!==void 0)&&(h.selectedIndex=-1)}function Qe(h){var e=new MutationObserver(()=>{be(h,h.__value)});e.observe(h,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Me(()=>{e.disconnect()})}function je(h,e,t=e){var s=new WeakSet,a=!0;Ie(h,"change",n=>{var l=n?"[selected]":":checked",c;if(h.multiple)c=[].map.call(h.querySelectorAll(l),K);else{var p=h.querySelector(l)??h.querySelector("option:not([disabled])");c=p&&K(p)}t(c),ae!==null&&s.add(ae)}),Re(()=>{var n=e();if(h===document.activeElement){var l=Le??ae;if(s.has(l))return}if(be(h,n,a),a&&n===void 0){var c=h.querySelector(":checked");c!==null&&(n=K(c),t(n))}h.__value=n,a=!1}),Qe(h)}function K(h){return"__value"in h?h.__value:h.value}class Pe{type="server";#e=x(J([]));get files(){return r(this.#e)}set files(e){m(this.#e,e,!0)}#t=x(J([]));get allFiles(){return r(this.#t)}set allFiles(e){m(this.#t,e,!0)}#s=x("");get searchInput(){return r(this.#s)}set searchInput(e){m(this.#s,e,!0)}#a=x("");get searchQuery(){return r(this.#a)}set searchQuery(e){m(this.#a,e,!0)}#i=x(null);get summaryElement(){return r(this.#i)}set summaryElement(e){m(this.#i,e,!0)}#r=x(J(["hani","hani2"]));get availableCollections(){return r(this.#r)}set availableCollections(e){m(this.#r,e,!0)}#l=x(J({}));get indexDataMap(){return r(this.#l)}set indexDataMap(e){m(this.#l,e,!0)}#n=x(!1);get isLoading(){return r(this.#n)}set isLoading(e){m(this.#n,e,!0)}#o=x(!1);get isPreloading(){return r(this.#o)}set isPreloading(e){m(this.#o,e,!0)}#c=x("hani");get currentCollection(){return r(this.#c)}set currentCollection(e){m(this.#c,e,!0)}#d=x("");get progressLabel(){return r(this.#d)}set progressLabel(e){m(this.#d,e,!0)}#h=x(0);get progressValue(){return r(this.#h)}set progressValue(e){m(this.#h,e,!0)}#u=x(!1);get isIndexing(){return r(this.#u)}set isIndexing(e){m(this.#u,e,!0)}#v=x(J(new Set));get selectedFiles(){return r(this.#v)}set selectedFiles(e){m(this.#v,e,!0)}#p=x(0);get scrollTop(){return r(this.#p)}set scrollTop(e){m(this.#p,e,!0)}#g=x(760);get containerHeight(){return r(this.#g)}set containerHeight(e){m(this.#g,e,!0)}#f=x(180);get itemHeight(){return r(this.#f)}set itemHeight(e){m(this.#f,e,!0)}#m=x(null);get cachedRegex(){return r(this.#m)}set cachedRegex(e){m(this.#m,e,!0)}queryColorMap=new Map;colorMap=new Map;get processedQueries(){const e=this.searchQuery.trim();return e?[...new Set(e.split("/").map(t=>t.trim()).filter(Boolean))]:[]}#_=ie(()=>{const e=this.searchResults;if(e.length===0)return[];const t=Math.max(0,Math.floor(this.scrollTop/this.itemHeight)-2),s=Math.min(e.length,Math.ceil(this.containerHeight/this.itemHeight)+t+3);return e.slice(t,s).map((a,n)=>({...a,uniqueKey:`card-${a.id}-${a.lineIndex}`,renderTop:(t+n)*this.itemHeight}))});get visibleResults(){return r(this.#_)}set visibleResults(e){m(this.#_,e)}get totalHeight(){return this.searchResults.length*this.itemHeight}startSearch(){const e=this.searchInput.trim();if(!e){this.searchQuery="",this.cachedRegex=null,this.colorMap.clear();return}this.searchQuery=e,this.scrollTop=0;const t=this.processedQueries;this.colorMap.clear(),t.forEach((a,n)=>{this.colorMap.set(a.toLowerCase(),n)});const s=[...t].sort((a,n)=>n.length-a.length).map(a=>a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|");this.cachedRegex=new RegExp(`(${s})`,"gi")}#x=ie(()=>{const e=this.processedQueries;if(!e.length)return[];const t=[];return this.allFiles.forEach(s=>{if(!this.selectedFiles.has(s.id)||!s.lines||s.lines.length===0)return;const a=this.indexDataMap[s.id],n=new Set;s.isIndexed&&a?e.forEach(l=>{a[l]&&a[l].forEach(c=>n.add(c))}):s.lines.forEach((l,c)=>{e.some(p=>l.includes(p))&&n.add(c)}),n.forEach(l=>{const c=s.lines[l];if(!c)return;const p=e.length>1&&e.every(f=>c.includes(f));t.push({id:s.id,fileName:s.filename,text:c,lineIndex:l,isAndMatch:p})})}),t.sort((s,a)=>a.isAndMatch-s.isAndMatch)});get searchResults(){return r(this.#x)}set searchResults(e){m(this.#x,e)}#b=ie(()=>this.searchResults.reduce((e,t)=>(e[t.fileName]||(e[t.fileName]=[]),e[t.fileName].push(t.text),e),{}));get groupedResults(){return r(this.#b)}set groupedResults(e){m(this.#b,e)}highlightText(e,t=!1){if(!e||!this.cachedRegex)return e;const s=t?["#0000FF","#FF0000","#2ecc71","#e67e22"]:["#fde047","#ffcfdf","#d1fae5","#e0e7ff"];return e.replace(this.cachedRegex,a=>{const n=a.toLowerCase(),l=this.colorMap.has(n)?this.colorMap.get(n):0,c=s[l%s.length];return t?`<b style="color: ${c}; font-weight: normal;">${a}</b>`:`<mark style="background-color: ${c} !important; color: black; border-radius: 2px; padding: 0 2px;">${a}</mark>`})}handleScroll(e){this.scrollTop=e.target.scrollTop}toggleFileSelection(e){this.selectedFiles.has(e)?this.selectedFiles.delete(e):this.selectedFiles.add(e),this.selectedFiles=new Set(this.selectedFiles),this.searchQuery&&(this.scrollTop=0)}handleFileUpload=async e=>{if(!Ae())return;const t=Array.from(e.target.files);if(t.length!==0){this.isIndexing=!0;for(const s of t){this.progressLabel=`${s.name} ì„œë²„ ì—…ë¡œë“œ ì¤‘...`;const a=new FormData;a.append("file",s),a.append("filename",s.name),a.append("type",s.name.endsWith(".docx")?"docx":"text"),a.append("isIndexed",!1);try{const n=await $e.uploadFile(a,this.currentCollection);this.progressLabel=`${s.name} ë³¸ë¬¸ í…ìŠ¤íŠ¸ ë¶„ì„ ì¤‘...`;const l=await s.arrayBuffer(),p=(s.name.endsWith(".docx")?(await re.extractRawText({arrayBuffer:l})).value:await s.text()).split(/\r?\n/).map(w=>w.trim()).filter(Boolean),f={...n,filename:s.name,lines:p,isIndexed:!0,isServer:!0};this.allFiles=[f,...this.allFiles],this.selectedFiles.add(f.id),this.selectedFiles=new Set(this.selectedFiles),this.progressLabel="ì—…ë¡œë“œ ì™„ë£Œ!",confirm(`${s.name} ì—…ë¡œë“œ ì„±ê³µ! ì§€ê¸ˆ ë°”ë¡œ '3ê¸€ì ì œí•œ' ì¸ë±ìŠ¤ë¥¼ ìƒì„±í• ê¹Œìš”?`)&&await this.generateAndUploadIndex(f)}catch(n){console.error("âŒ ì„œë²„ ì—…ë¡œë“œ ì‹¤íŒ¨:",n),alert(`${s.name} ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (ì¸ë±ì‹±ìš© íŒŒì¼ìš©ëŸ‰ ì œí•œì„ í™•ì¸í•´ ì£¼ì„¸ìš”.)`)}}this.isIndexing=!1,this.progressValue=0,e.target.value=""}};async fetchAllFromCollection(e=this.currentCollection){this.isLoading=!0,this.currentCollection=e;try{const t=await N.collection(e).getFullList({sort:"-created"});this.allFiles=t.filter(s=>{const a=String(s.filename||s.file||"").toLowerCase();return a.endsWith(".docx")&&!a.includes("kor_hanja")}).map(s=>({...s,filename:s.filename||s.file||"ì´ë¦„ ì—†ìŒ",lines:[]})),this.allFiles.forEach(s=>{s.isIndexed&&this.selectedFiles.add(s.id)}),await this.preloadIndices()}catch(t){console.error(t)}finally{this.isLoading=!1}}async generateAndUploadIndex(e){console.log(`${e.filename}ì„ ì¸ë±ì‹± í•©ë‹ˆë‹¤.`),this.isIndexing=!0;try{this.progressLabel="í…ìŠ¤íŠ¸ ë¶„ì„ ì¤‘...";const t=this.currentCollection;console.log("current collection: ",t);const s=await N.collection(t).getOne(e.id),a=N.files.getURL(s,s.file||s.filename);console.log("curr fileUrl: ",a);const l=await(await fetch(`${a}?t=${Date.now()}`)).arrayBuffer(),p=(await re.extractRawText({arrayBuffer:l})).value.split(/\r?\n/).map(g=>g.trim()).filter(Boolean),f=new Map;for(let g=0;g<p.length;g++)(p[g].match(/[\u4E00-\u9FFF]+|[\uAC00-\uD7AF]+/g)||[]).forEach(M=>{const L=Math.min(M.length,3);for(let z=1;z<=L;z++)for(let C=0;C<=M.length-z;C++){const A=M.substring(C,C+z);f.has(A)||f.set(A,new Set),f.get(A).add(g)}}),g%1e3===0&&(this.progressValue=20+Math.floor(g/p.length*50),await new Promise(M=>setTimeout(M,0)));this.progressLabel="ì¸ë±ìŠ¤ ì••ì¶• ë° ì„œë²„ ì „ì†¡ ì¤‘...";let w=["{"],y=!0;for(const[g,F]of f.entries())y||w.push(","),w.push(`"${g}":[${Array.from(F).join(",")}]`),y=!1;w.push("}");const S=new Blob(w,{type:"application/json"});console.log(`ìµœì¢… ì¸ë±ìŠ¤ ìš©ëŸ‰: ${(S.size/1024/1024).toFixed(2)}MB`);const k=new FormData;k.append("index_file",S,`index_${s.id}.json`),k.append("isIndexed","true"),await N.collection(t).update(s.id,k),this.indexDataMap[e.id]=JSON.parse(await S.text()),e.isIndexed=!0,e.lines=p,this.allFiles=[...this.allFiles],this.selectedFiles.add(e.id),this.selectedFiles=new Set(this.selectedFiles),this.progressValue=100,this.progressLabel="ì™„ë£Œ!",setTimeout(()=>{this.isIndexing=!1},1e3)}catch(t){console.error("ì¸ë±ì‹± ì‹¤íŒ¨:",t),this.isIndexing=!1,alert("ì¸ë±ìŠ¤ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}}async generateIndex(){for(const e of this.allFiles)!e.file&&!e.filename||e.isIndexed||await this.generateAndUploadIndex(e)}async preloadIndices(){const e=this.allFiles.filter(t=>t.isIndexed);await Promise.all(e.map(async t=>{try{if(!this.indexDataMap[t.id]&&t.index_file){const s=N.files.getURL(t,t.index_file),a=await fetch(s);a.ok&&(this.indexDataMap[t.id]=await a.json())}(!t.lines||t.lines.length===0)&&await this.loadFileLines(t)}catch(s){console.error(`íŒŒì¼(${t.filename}) ë¡œë”© ëˆ„ë½:`,s)}}))}async loadFileLines(e){if(!(e.lines?.length>0))try{const t=N.files.getURL(e,e.file),a=await(await fetch(t)).arrayBuffer(),n=await re.extractRawText({arrayBuffer:a});e.lines=n.value.split(/\r?\n/).map(l=>l.trim()).filter(Boolean)}catch(t){console.error(t)}}copyToClipboard(){if(!this.summaryElement)return;const e=document.createRange();e.selectNodeContents(this.summaryElement);const t=window.getSelection();t.removeAllRanges(),t.addRange(e),document.execCommand("copy"),t.removeAllRanges()}async saveAsDocx(){if(!this.searchResults.length)return;const e=[new le({children:[new ve({text:this.searchQuery,bold:!0})]})];Object.entries(this.groupedResults).forEach(([a,n])=>{e.push(new le({children:[new ve({text:`[${a}]`,bold:!0})]})),n.forEach(l=>e.push(new le(l)))});const t=await Ee.toBlob(new De({sections:[{children:e}]})),s=document.createElement("a");s.href=URL.createObjectURL(t),s.download=`${this.searchQuery}.docx`,s.click()}reset(){this.searchQuery="",this.searchInput="",this.cachedRegex=null}}const i=new Pe;var Ve=R('<span class="loading-text svelte-p5z5g7">ë¡œë”© ì¤‘...</span>'),Ne=R('<span class="count-badge svelte-p5z5g7"> </span>'),Oe=R('<button class="btn-generate-mini pulse svelte-p5z5g7">ìƒì„±</button>'),We=R('<span class="status-check svelte-p5z5g7">âœ“ ì™„ë£Œ</span>'),Je=R('<li class="monitor-item svelte-p5z5g7"><span class="file-info-text svelte-p5z5g7"> <small class="svelte-p5z5g7"> </small></span> <!></li>'),Ke=R('<div class="status-monitor-box svelte-p5z5g7"><div class="monitor-header svelte-p5z5g7"><h4 class="svelte-p5z5g7">íŒŒì¼ ìƒíƒœ ëª¨ë‹ˆí„°</h4> <button class="close-text-btn svelte-p5z5g7">[ë‹«ê¸°]</button></div> <ul class="monitor-list svelte-p5z5g7"></ul></div>'),Xe=R('<option class="svelte-p5z5g7"> </option>'),Ge=R('<div><div class="item-main svelte-p5z5g7"><input type="checkbox" class="custom-checkbox svelte-p5z5g7"/> <span class="filename svelte-p5z5g7"> </span></div> <button> </button></div>'),Ye=R('<aside class="col sidebar svelte-p5z5g7"><header class="sidebar-header svelte-p5z5g7"><h3 class="main-title svelte-p5z5g7">ğŸ“‚ ìë£Œ ê´€ë¦¬</h3> <div class="file-status-info svelte-p5z5g7"><!></div></header> <!> <section class="menu-section svelte-p5z5g7"><h4 class="sidebar-sub-title svelte-p5z5g7">ğŸŒ ì„œë²„ ì„œì¬</h4> <div class="collection-selector svelte-p5z5g7"><select class="modern-select svelte-p5z5g7"></select> <button class="sync-btn svelte-p5z5g7">ğŸ”„ ëª©ë¡ ê°±ì‹ </button></div></section> <div class="file-input-wrapper svelte-p5z5g7"><label class="custom-file-btn svelte-p5z5g7">ğŸ“„ ë¡œì»¬ íŒŒì¼ ê²€ìƒ‰ ì „ìš© ì¶”ê°€ <input type="file" multiple class="svelte-p5z5g7"/></label></div> <section class="indexing-panel svelte-p5z5g7"><h4 class="sidebar-sub-title svelte-p5z5g7">âš¡ ê²€ìƒ‰ì— ì‚¬ìš©í•  ì¸ë±ìŠ¤(ì„ íƒ)</h4> <div class="indexing-list svelte-p5z5g7"></div></section> <button> </button></aside>');function Ze(h,e){Z(e,!0);let t=xe(e,"showStatusMonitor",15);function s(){i.allFiles.length>0&&i.allFiles.every(u=>u.isIndexed)&&setTimeout(()=>{t(!1)},2500)}async function a(){t(!0),i.allFiles=[],i.searchQuery="",i.searchResults=[],i.reset&&i.reset();try{await i.fetchAllFromCollection(i.currentCollection),s()}catch(_){console.error("ëª©ë¡ ê°±ì‹  ì‹¤íŒ¨:",_)}}var n=Ye(),l=d(n),c=v(d(l),2),p=d(c);{var f=_=>{var u=Ve();b(_,u)},w=_=>{var u=Ne(),I=d(u);o(u),q(()=>$(I,`íŒŒì¼ ìˆ˜: ${i.allFiles.length??""}`)),b(_,u)};D(p,_=>{i.isLoading?_(f):_(w,!1)})}o(c),o(l);var y=v(l,2);{var S=_=>{var u=Ke(),I=d(u),P=v(d(I),2);P.__click=()=>t(!1),o(I);var E=v(I,2);ne(E,21,()=>i.allFiles,oe,(B,Q)=>{var O=Je(),U=d(O),W=d(U),X=v(W),j=d(X);o(X),o(U);var te=v(U,2);{var se=V=>{var G=Oe();G.__click=async()=>{await i.generateAndUploadIndex(r(Q)),s()},b(V,G)},ye=V=>{var G=We();b(V,G)};D(te,V=>{r(Q).isIndexed?V(ye,!1):V(se)})}o(O),q(()=>{$(W,`${r(Q).filename??""} `),$(j,`(${(r(Q).lines?.length||0)??""}ì¤„)`)}),b(B,O)}),o(E),o(u),he(3,u,()=>qe,()=>({duration:500})),b(_,u)};D(y,_=>{t()&&i.allFiles.length>0&&_(S)})}var k=v(y,2),g=v(d(k),2),F=d(g);ne(F,21,()=>i.availableCollections,oe,(_,u)=>{var I=Xe(),P=d(I,!0);o(I);var E={};q(()=>{$(P,r(u)),E!==(E=r(u))&&(I.value=(I.__value=r(u))??"")}),b(_,I)}),o(F);var T=v(F,2);T.__click=a,o(g),o(k);var M=v(k,2),L=d(M),z=v(d(L));z.__change=function(..._){i.handleFileUpload?.apply(this,_)},o(L),o(M);var C=v(M,2),A=v(d(C),2);ne(A,21,()=>i.allFiles,oe,(_,u)=>{var I=Ge();let P;I.__click=()=>r(u).isIndexed&&i.toggleFileSelection(r(u).id);var E=d(I),B=d(E);me(B),B.__click=j=>{j.stopImmediatePropagation(),i.toggleFileSelection(r(u).id)};var Q=v(B,2),O=d(Q,!0);o(Q),o(E);var U=v(E,2);let W;U.__click=j=>{j.stopPropagation(),i.generateAndUploadIndex(r(u))};var X=d(U,!0);o(U),o(I),q((j,te,se)=>{P=ce(I,1,"indexing-item-card svelte-p5z5g7",null,P,j),He(B,te),B.disabled=!r(u).isIndexed,$(O,se),W=ce(U,1,"status-btn svelte-p5z5g7",null,W,{done:r(u).isIndexed,need:!r(u).isIndexed}),$(X,r(u).isIndexed?"ì™„ë£Œ (ì¬ìƒì„±)":"ì¸ë±ìŠ¤ ìƒì„±")},[()=>({"is-selected":i.selectedFiles.has(r(u).id),unselected:!i.selectedFiles.has(r(u).id),"is-not-indexed":!r(u).isIndexed}),()=>i.selectedFiles.has(r(u).id),()=>r(u).filename.replace(".docx","").replace(".txt","")]),b(_,I)}),o(A),o(C);var H=v(C,2);let ue;H.__click=()=>i.saveAsDocx();var we=d(H,!0);o(H),o(n),q(()=>{ue=ce(H,1,"export-btn svelte-p5z5g7",null,ue,{active:i.searchResults.length>0}),H.disabled=i.searchResults.length===0,$(we,i.searchResults.length>0?`ğŸ“„ ê²°ê³¼ DOCX ì €ì¥ (${i.searchResults.length}ê±´)`:"ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤")}),je(F,()=>i.currentCollection,_=>i.currentCollection=_),b(h,n),ee()}_e(["click","change"]);var et=R('<div class="loading-overlay svelte-1vth9i3"><div class="loading-card svelte-1vth9i3"><div class="spinner svelte-1vth9i3"></div> <h3 class="svelte-1vth9i3">ì¸ë±ìŠ¤ ë¡œë”© ì¤‘...</h3> <p class="svelte-1vth9i3">ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³  ê²€ìƒ‰ ì¤€ë¹„ë¥¼ í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p> <div class="progress-container-mini svelte-1vth9i3"><div class="progress-bar-fill svelte-1vth9i3"></div></div></div></div>'),tt=R('<p class="final-step-msg svelte-1vth9i3">ì„œë²„ì— ìµœì¢… ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>'),st=R('<div class="loading-overlay svelte-1vth9i3"><div class="loading-card indexing-card svelte-1vth9i3"><div class="spinner indexing-spinner svelte-1vth9i3"></div> <h3 class="status-label svelte-1vth9i3"> </h3> <p class="status-detail svelte-1vth9i3">ëŒ€ìš©ëŸ‰ íŒŒì¼ì€ ìµœëŒ€ 1ë¶„ ì •ë„ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> <div class="progress-container-main svelte-1vth9i3"><div class="progress-bar-fill svelte-1vth9i3"></div> <span class="percentage-text svelte-1vth9i3"> </span></div> <!></div></div>');function at(h,e){Z(e,!1),Be();var t=de(),s=Y(t);{var a=l=>{var c=et(),p=d(c),f=v(d(p),6),w=d(f);o(f),o(p),o(c),q(()=>pe(w,`width: ${i.progressValue??""}%`)),he(3,c,()=>ge),b(l,c)},n=l=>{var c=de(),p=Y(c);{var f=w=>{var y=st(),S=d(y),k=v(d(S),2),g=d(k,!0);o(k);var F=v(k,4),T=d(F),M=v(T,2),L=d(M);o(M),o(F);var z=v(F,2);{var C=A=>{var H=tt();b(A,H)};D(z,A=>{i.progressValue>80&&A(C)})}o(S),o(y),q(()=>{$(g,i.progressLabel||"ì¸ë±ì‹± ì¤€ë¹„ ì¤‘..."),pe(T,`width: ${i.progressValue??""}%`),$(L,`${i.progressValue??""}%`)}),he(3,y,()=>ge),b(w,y)};D(p,w=>{i.isIndexing&&w(f)},!0)}b(l,c)};D(s,l=>{i.isLoading?l(a):l(n,!1)})}b(h,t),ee()}var it=R('<button class="go-button svelte-1sm9sq1">ê¸°ì¡´ìë£Œ ê²€ìƒ‰</button>'),rt=R('<button class="go-button svelte-1sm9sq1">Home</button>'),lt=R('<div class="search-header svelte-1sm9sq1"><div class="search-container svelte-1sm9sq1"><input type="text" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥ (ì˜ˆ: æ°£/è¡€)" class="search-input svelte-1sm9sq1"/> <button class="search-button svelte-1sm9sq1">ê²€ìƒ‰</button> <div class="info-badge svelte-1sm9sq1">ë§¤ì¹­: <span class="match-count svelte-1sm9sq1"> </span>ê±´</div> <!></div></div>');function nt(h,e){Z(e,!0);let t=xe(e,"item",7),s=t().type;var a=lt(),n=d(a),l=d(n);me(l),l.__keydown=g=>g.key==="Enter"&&t().startSearch();var c=v(l,2);c.__click=()=>t().startSearch();var p=v(c,2),f=v(d(p)),w=d(f,!0);o(f),Ce(),o(p);var y=v(p,2);{var S=g=>{var F=it();F.__click=()=>{t().reset(),fe("/admin")},b(g,F)},k=g=>{var F=de(),T=Y(F);{var M=L=>{var z=rt();z.__click=()=>{t().reset(),fe("/")},b(L,z)};D(T,L=>{s==="server"&&L(M)},!0)}b(g,F)};D(y,g=>{s==="local"?g(S):g(k,!1)})}o(n),o(a),q(()=>$(w,t().searchResults.length)),Ue(l,()=>t().searchInput,g=>t().searchInput=g),b(h,a),ee()}_e(["keydown","click"]);var ot=R('<!> <div class="admin-container svelte-1jef3w8"><!> <main class="col main-content svelte-1jef3w8"><!> <!></main></div>',1);function yt(h,e){Z(e,!0);let t=x(!0);Fe(async()=>{i.searchInput="",i.searchResults=[],i.summaryElement=null,await i.fetchAllFromCollection("hani")});var s=ot(),a=Y(s);{var n=y=>{at(y,{})};D(a,y=>{(i.isLoading||i.isIndexing)&&y(n)})}var l=v(a,2),c=d(l);Ze(c,{get showStatusMonitor(){return r(t)},set showStatusMonitor(y){m(t,y,!0)}});var p=v(c,2),f=d(p);nt(f,{get item(){return i}});var w=v(f,2);Te(w,{get item(){return i}}),o(p),o(l),b(h,s),ee()}export{yt as component};
